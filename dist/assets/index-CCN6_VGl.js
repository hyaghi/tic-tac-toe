(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();document.querySelector(".board");const m=document.querySelectorAll(".cell"),a=document.querySelector(".status"),C=document.querySelector(".reset");let c="X",i=["","","","","","","","",""],f=!0;const g=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function h(){for(let e=0;e<g.length;e++){const[r,u,o]=g[e];if(i[r]&&i[r]===i[u]&&i[r]===i[o])return i[r]}return null}function O(){return!i.includes("")}function x(e){const r=e.target.dataset.index;i[r]!==""||!f||c!=="X"||(i[r]=c,e.target.textContent=c,e.target.classList.add(c),v(),f&&(p(),L()))}function L(){if(!f||c!=="O")return;const e=S(i);e&&(i[e.i]=c,m[e.i].textContent=c,m[e.i].classList.add(c),v(),f&&p())}function p(){c=c==="X"?"O":"X",a.textContent=`Player ${c}'s turn`}function v(){const e=h();e?(a.textContent=`Player ${e} wins!`,f=!1):O()&&(a.textContent="It's a draw!",f=!1)}function P(){c="X",i=["","","","","","","","",""],f=!0,a.textContent=`Player ${c}'s turn`,m.forEach(e=>{e.textContent="",e.classList.remove("X","O")})}function y(e,r,u){const o={X:-1,O:1,draw:0};let t=h();if(t!==null)return o[t];if(u){let n=-1/0;for(let s=0;s<e.length;s++)for(let l=0;l<e.length;l++)if(e[l]===""){e[l]=u?"O":"X";let d=y(e,r+1,!u);e[l]="",n=Math.max(d,n)}return n}else{let n=1/0;for(let s=0;s<e.length;s++)for(let l=0;l<e[s].length;l++)if(e[s][l]===""){e[s][l]="X";let d=y(e,r+1,!0);e[s][l]="",n=Math.min(d,n)}return n}}function S(e){console.log("Calculating best move...");let r,u=-1/0;for(let o=0;o<e.length;o++)if(e[o]===""){e[o]="O";let t=y(e,0,!1);e[o]="",console.log(`Score for move ${o}: ${t}`),t>u&&(u=t,r={i:o})}return console.log(`Best move chosen: ${r}`),r}m.forEach(e=>e.addEventListener("click",x));C.addEventListener("click",P);a.textContent=`Player ${c}'s turn`;
